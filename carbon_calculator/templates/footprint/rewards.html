{% extends 'footprint/base.html' %}
{% load static %}

{% block extra_head %}
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="rewards-container">
    <!-- User Points Banner -->
    <div class="points-banner">
        <div class="points-display">
            <i class="fas fa-leaf"></i>
            <div class="points-info">
                <span class="points-value">1,250</span>
                <span class="points-label">Green Points Available</span>
            </div>
        </div>
    </div>

    <!-- Rewards Categories -->
    <div class="categories">
        <button class="category-btn active">All Rewards</button>
        <button class="category-btn">Eco Products</button>
        <button class="category-btn">Plant Trees</button>
        <button class="category-btn">Sustainable Fashion</button>
        <button class="category-btn">Green Tech</button>
    </div>

    <!-- Rewards Grid -->
    <div class="rewards-grid">
        <!-- Eco Product Card -->
        <div class="reward-card">
            <div class="reward-image">
                <img src="{% static 'images/bamboo-set.jpg' %}" alt="Bamboo Utensil Set">
                <div class="points-tag">500 points</div>
            </div>
            <div class="reward-info">
                <h3>Bamboo Utensil Set</h3>
                <p>Eco-friendly portable utensil set with carrying case</p>
                <button class="redeem-btn">Redeem Reward</button>
            </div>
        </div>

        <!-- Plant Trees Card -->
        <div class="reward-card">
            <div class="reward-image">
                <img src="{% static 'images/plant-tree.jpg' %}" alt="Plant Trees">
                <div class="points-tag">300 points</div>
            </div>
            <div class="reward-info">
                <h3>Plant a Tree</h3>
                <p>We'll plant a tree in your name in affected areas</p>
                <button class="redeem-btn">Plant Now</button>
            </div>
        </div>

        <!-- Eco Fashion Card -->
        <div class="reward-card">
            <div class="reward-image">
                <img src="{% static 'images/eco-tshirt.jpg' %}" alt="Eco T-Shirt">
                <div class="points-tag">800 points</div>
            </div>
            <div class="reward-info">
                <h3>Recycled Cotton T-Shirt</h3>
                <p>100% recycled cotton t-shirt with eco-friendly dyes</p>
                <button class="redeem-btn">Redeem Reward</button>
            </div>
        </div>

        <!-- Solar Charger Card -->
        <div class="reward-card">
            <div class="reward-image">
                <img src="{% static 'images/solar-charger.jpg' %}" alt="Solar Charger">
                <div class="points-tag">1000 points</div>
            </div>
            <div class="reward-info">
                <h3>Portable Solar Charger</h3>
                <p>10000mAh solar-powered portable charger</p>
                <button class="redeem-btn">Redeem Reward</button>
            </div>
        </div>
    </div>
</div>

<style>
.rewards-container {
    max-width: 1400px;  /* Increased max-width */
    margin: 2rem auto;
    padding: 0 2rem;
}

.points-banner {
    background: rgba(0, 15, 2, 0.85);
    border-radius: 16px;
    padding: 2rem;
    margin-bottom: 3rem;
    border: 1px solid rgba(46, 204, 113, 0.2);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

.points-display {
    display: flex;
    align-items: center;
    gap: 1.5rem;
    justify-content: center;  /* Center the points display */
}

.points-display i {
    font-size: 3rem;
    color: #2ecc71;
}

.points-info {
    display: flex;
    flex-direction: column;
}

.points-value {
    font-size: 2.5rem;
    font-weight: bold;
    color: #2ecc71;
}

.points-label {
    color: #888;
    font-size: 1.1rem;
}

.categories {
    display: flex;
    gap: 1rem;
    margin-bottom: 3rem;
    overflow-x: auto;
    padding: 0.5rem;
    justify-content: center;  /* Center the categories */
}

.category-btn {
    padding: 1rem 2rem;
    background: rgba(0, 15, 2, 0.85);
    border: 1px solid rgba(46, 204, 113, 0.2);
    border-radius: 25px;
    color: white;
    cursor: pointer;
    transition: all 0.3s ease;
    white-space: nowrap;
    font-size: 1rem;
}

.category-btn.active,
.category-btn:hover {
    background: #2ecc71;
    border-color: #2ecc71;
}

.rewards-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));  /* Increased minimum width */
    gap: 2.5rem;  /* Increased gap */
    padding: 1rem;
}

.reward-card {
    background: rgba(0, 15, 2, 0.85);
    border-radius: 20px;  /* Increased border radius */
    overflow: hidden;
    border: 1px solid rgba(46, 204, 113, 0.2);
    transition: all 0.3s ease;
    height: 100%;  /* Ensure consistent height */
    display: flex;
    flex-direction: column;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

.reward-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(46, 204, 113, 0.2);
}

.reward-image {
    position: relative;
    height: 250px;  /* Increased height */
    overflow: hidden;
}

.reward-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
}

.reward-card:hover .reward-image img {
    transform: scale(1.05);
}

.points-tag {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: rgba(46, 204, 113, 0.9);
    padding: 0.8rem 1.5rem;
    border-radius: 25px;
    font-weight: bold;
    font-size: 1.1rem;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

.reward-info {
    padding: 2rem;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

.reward-info h3 {
    font-size: 1.4rem;
    margin-bottom: 1rem;
    color: #2ecc71;
}

.reward-info p {
    color: #888;
    margin-bottom: 1.5rem;
    font-size: 1rem;
    line-height: 1.6;
}

.redeem-btn {
    width: 100%;
    padding: 1rem;
    background: #2ecc71;
    border: none;
    border-radius: 12px;
    color: white;
    font-weight: bold;
    font-size: 1.1rem;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-top: auto;  /* Push button to bottom */
}

.redeem-btn:hover {
    background: #27ae60;
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(46, 204, 113, 0.3);
}

@media (max-width: 1200px) {
    .rewards-grid {
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    }
}

@media (max-width: 768px) {
    .rewards-grid {
        grid-template-columns: 1fr;
        padding: 0.5rem;
    }
    
    .categories {
        flex-wrap: nowrap;
        justify-content: start;
        padding-bottom: 1rem;
    }

    .points-banner {
        padding: 1.5rem;
        margin-bottom: 2rem;
    }

    .reward-card {
        margin-bottom: 1rem;
    }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Category button click handling
    const categoryBtns = document.querySelectorAll('.category-btn');
    categoryBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            // Remove active class from all buttons
            categoryBtns.forEach(b => b.classList.remove('active'));
            // Add active class to clicked button
            btn.classList.add('active');
            // Here you would typically filter the rewards based on category
        });
    });

    // Redeem button click handling
    const redeemBtns = document.querySelectorAll('.redeem-btn');
    redeemBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            // Here you would handle the redemption process
            alert('Reward redemption processing...');
        });
    });
});
</script>
{% endblock %} 